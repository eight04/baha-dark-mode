/* ==UserStyle==
@name           巴哈深色模式
@namespace      https://github.com/eight04
@version        0.1.9
@description    巴哈哈拉區手機版深色模式
@author         eight04 <eight04@gmail.com>
==/UserStyle== */

@-moz-document domain("m.gamer.com.tw") {
  :root {
    --box-fg: #f7f7f7;
    --box-bg: #272728;
    --box-bg-2: #1c1c1c;
    --box-bg-3: rgba(0, 177, 183, 0.3);
    --sep-fg: #444;
    --btn-bg: #272728;
    --btn-fg: #a7a6ad;
    --sticky-bg: #1c1c1c;
    --input-bg: #111111;
    --input-fg: #c6ccd2;
    --input-focus: #00B0B6;
    --head-bg: #213233;
    --link-fg: #00B0B6;
  }
  body {
    background: url(https://i2.bahamut.com.tw/forum/html_bg_dark.gif) center top #111111;
    color: var(--box-fg);
  }
  a {
    color: #00B0B6;
  }
  input {
    background-color: var(--input-bg);
    &:focus-visible {
      border-color: var(--input-focus);
      box-shadow: 0 0 0 2px rgb(from var(--input-focus) r g b / 0.3);
      outline: none;
    }
  }
  td[bgcolor] {
    background-color: transparent;
  }
  font[style="background-color:#ffffff;"] {
    background-color: transparent!important;
  }
  /* Firefox doesn't support attr color: https://bugzilla.mozilla.org/show_bug.cgi?id=1448251 */
  @supports (color: attr(color type(<color>))) {
    font[color] {
      color: hsl(from attr(color type(<color>)) h s calc(100 - l));
    }
  }
  @supports not (color: attr(color type(<color>))) {
    font[color] {
      filter: invert(100%) hue-rotate(180deg);

      font[color] {
        filter: none;
      }
      img {
        filter: invert(100%) hue-rotate(180deg);
      }
    } 
    font[color=unset] {
      /* invert lightness */
      color: hsl(from var(--box-fg) h s calc(100 - l));
    }
  }

  /* download app banner, button */
  .open-app,
  .download-app_box01 {
    display: none;
  }

  .mb-article-stickybar .article-stickybar-left p {
    color: #f7f7f7;
  }
  .mb-article-stickybar {
    background: #1c1c1c;
  }
  .mb-article-stickybar .article-breadcrumbs a {
    color: #C7C6CB;
  }
  .cbox {
    background: #272728;
    border-color: #444;
  }
  .article-cont .title-box,
  .cbox_msg2_open,
  .C2 div {
    border-color: #444;
  }
  h1.c-title {
    color: #f7f7f7;
    text-shadow: none;
  }
  .cbox_msg2 {
    background: #1c1c1c;
  }
  .cbox_msg2_enter input {
    background: #111111;
    color: #c6ccd2;
    border: none;
    box-shadow: inset 0 -1px 3px rgba(100, 100, 100, 0.2), 0 1px 1px rgba(255, 255, 255, 0.2)
  }
  .article-cont .cbox_txt .del_adm {
    color: rgb(from currentColor r g b / 0.5);
  }
  .baha_interactiveBtn .c-tool-item.c-gp a span.tool-icon, .baha_interactiveBtn .c-tool-item.c-bp a span.tool-icon {
    background: none;
    font-family: 'Material Icons';
    text-align: center;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    
    &::before {
      content: "";
    }
  }
  .baha_interactiveBtn .c-tool-item.c-bp a span.tool-icon {
    color:   #00B0B6;
    border-color:  #00B0B6;
  }
  .baha_interactiveBtn .c-tool-item.c-bp span.tool-num.gp-count {
    color:   #00B0B6;
  }
  .halac_form {
    background-color: var(--box-bg);
  }
  .halac_form select {
    background-color: inherit;
    color: var(--btn-fg);
    border-color: var(--sep-fg);
  }
  .index-boxC a {
    background-color: var(--box-bg);
    box-shadow: none;
  }
  .article-nav-bottom {
    background-color: var(--sticky-bg);
    border-color: var(--sep-fg);
  }
  .article-nav-bottom .reply-input textarea {
    background-color: var(--input-bg);
    color: var(--input-fg);
    border-color: var(--sep-fg);
  }
  
  /* artical list */
  .forum-keyword {
    background-color: var(--sticky-bg);
  }
  
  .halab_form {
    background-color: var(--head-bg);
  }
  .halab_form select,
  .halab_form input {
    background-color: var(--input-bg);
    color: var(--input-fg);
    border-color: var(--sep-fg);
  }
  
  .hala_blist a {
    background-color: var(--box-bg);
    color: var(--box-fg);
  }
  .hala_blist li:nth-child(2n+1) a {
    background-color: var(--box-bg-2);
  }
  .hala_blist h4 {
    font-weight: normal;
  }
  
  header {
    background-color: #125b6b;
  }
  
  /* load more area */
  .bempty {
    background-color: var(--box-bg);
  }
  
  #TOP_menu {
    background-color: var(--sep-fg);
  }
  .TOP_menu2 li {
    background-color: var(--sticky-bg);
  }
  .TOP_menu2 .now a {
    color: var(--box-fg);
  }
  .TOP_menu2 li a {
    color: rgb(from var(--box-fg) r g b / 0.5);
  }
  .msg li {
    background-color: var(--box-bg);
    &.unread {
      background-color: var(--box-bg-3);
    }
  }

  /* action menu */
  .baha_interactiveBtn .morebtns a {
    background-color: var(--btn-bg);
    color: var(--btn-fg);
    border-color: var(--sep-fg);
  }
  .baha_interactiveBtn .morebtns {
    border-color: var(--sep-fg);
  }

  @keyframes highlight {
    from {
      background-color: oklch(from var(--box-bg) calc(l + 0.1) c h);
    }

    to {
      background-color: var(--box-bg);
    }
  }

  .article_gamercard {
    background-color: var(--box-bg-2);
  }

  /* menu */
  .SubMenu {
    background-color: var(--btn-bg);
  }
  .SubMenu_list .fa {
    filter: invert(1);
  }
  .gtm-nav-menu,
  .gtm-nav-backpc{
    color: var(--btn-fg);

    &[href="https://ani.gamer.com.tw/"] {
      filter: grayscale(0.3);
    }
  }

  /* fav list */
  .myfavinput {
    background-color: var(--input-bg);
    color: var(--input-fg);
    border-color: var(--sep-fg);
  }
  .my_bo li {
    background-color: var(--box-bg);
    border-color: var(--sep-fg);
  }

  /* board list */
  .hala_drop select {
    background-color: var(--input-bg);
    color: var(--input-fg);
    border-color: var(--sep-fg);
  }
  .hala li {
    background-color: var(--box-bg);
  }
  .hala a:nth-of-type(2) {
    background-color: var(--box-bg-2);
  }
  #BH-pagebtn .no,
  #BH-pagebtn a{
    background-color: var(--btn-bg);
    color: var(--btn-fg);
    border-color: var(--sep-fg);
  }

  .index-topic a {
    background-color: var(--box-bg);
    color: var(--box-fg);
    box-shadow: none;
  }

  /* daily */
  .popup-dailybox .popup-dailybox--width {
    background-color: var(--box-bg);
  }
  .popup-dailybox .popup-dailybox__subtitle {
    color: var(--box-fg);
  }
  .popup-dailybox .popup-dailybox__fulilink {
    color: var(--box-fg);
  }
  .popup-dailybox .popup-dailybox__title {
    color: #EEC900;
  }
  .dialogify {
    background-color: transparent;
  }
  .dialogify .dialogify__body a {
    color: var(--link-fg);
  }
  .dialogify__close {
    width: 18px;
    height: 18px;
    border-radius: 50%;
    border: 1px solid var(--link-fg);

    &::before {
      content: "✕";
      font-size: 12px;
      color: var(--link-fg);
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      line-height: 1;
    }

    & img {
      display: none;
    }
  }
  .dailybox .dailybox-day {
    background-color: var(--box-bg-2);
  }
  .dailybox .dailybox-day::after {
    background-color: oklch(from var(--box-bg) l c h / 0.8);
  }
  .dailybox {
    color: var(--box-fg);
  }
  .popup-dailybox .popup-dailybox__btn {
    background-color: #F08D23;
  }

  /* vote */
  .vote-block {
    background-color: var(--box-bg-2);
    border-color: var(--sep-fg);
  }
  .vote-block .c-post__header small {
    color: inherit;
    opacity: 0.6;
  }
  .vote-item div.form-control {
    background-color: var(--input-bg);
    color: var(--input-fg);
    border-color: var(--sep-fg);
  }
  .check-group input[type="checkbox"] + label .label-icon {
    background-color: var(--input-bg);
    border-color: var(--sep-fg);
  }
  .check-group input[type="checkbox"]:checked + label .label-icon {
    background-color: var(--box-bg-3);
    border-color: var(--box-bg-3);
    color: var(--box-fg);
  }

} 
